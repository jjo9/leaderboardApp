<style>
  form {
    display:inline;
    margin:0px;
    padding:0px;
  }
</style>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="/">CTF_BreakPoint</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarColor02">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/how2play">How to play</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/findChallenges/all/all">Challenges</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/findAllUsers">Users</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/About">About</a>
      </li>
    </ul>
    <form class="form-inline my-2 my-lg-0"  action="/findUser/" method="POST">
      <input class="form-control mr-sm-2" id="username" name="username" type="text" placeholder="Search User">
      <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search User</button>
    </form>
  </div>
</nav>
<br>
<h1>Top 10 Leaderboard</h1>

<form action="/leaderboardGlobal">
  <input class="btn btn-info" type="submit" value="See Global LeaderBoard"/>
</form>

<% var mostrarX = 10; %> 
<% var totalDepontosQuePossoGanhar = pontosMaximos %>

<h4>Total points available: <%= totalDepontosQuePossoGanhar%> </h4>

<br><br>
<table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Position</th>
        <th scope="col">Username</th>
        <th scope="col">Score</th>
        <th scope="col">Total questions answered</th>
        <th scope="col">Points Earned %</th>
      </tr>
    </thead>
    <tbody>
<% var maxSize = 0; %>
<% if ( tabela.length > mostrarX ){ %>
  <% maxSize = mostrarX; %>
<% } else { %>
  <% maxSize = tabela.length; %>
<% } %>
<% for ( var i = 0;  i < tabela.length; i++) { %>
    <tr>
        <th scope="row"> # <%= i+1 %> </th>
        <td><%= tabela[i].username %></td>
        <td><%= tabela[i].pontos %></td>
        <td><%= tabela[i].perguntasResolvidas.length %></td>
        <td><div class="progress">
        <% var tempPercent = ( ( tabela[i].pontos *100)/ totalDepontosQuePossoGanhar);%>
      <div class="progress-bar" role="progressbar" style="width: <%= tempPercent %>%;"  aria-valuemin="0" aria-valuemax="100"></div>
    </div></td>
    </tr>
    

<% } %>

  </tbody>
</table> 
