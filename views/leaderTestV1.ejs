<h1>Leaderboards (Top 10)</h1>

<% var mostrarX = 10; %> 
<% var totalDePerguntasExistentes = 30 %>
<% var totalDepontosQuePossoGanhar = 40 %>

<h2> ok tenho o total de perguntas mas o que estou a alimentar é o total de pontos ...
deveria antes ter total de pontos que se podem ter ??? mas se implementar aquilo de os pontos diminuem não pode ser assim
tenho que mandar as perguntas resolvidas e os pontos ganhos em cada um ?? </h2>

<p> por aquia a mostrar a </p>

<h4>Totla de pontos que se podem ganhar: <%= totalDepontosQuePossoGanhar%> </h4>

<% tabela = tabela.sort((a, b) => (a.pontos < b.pontos) ? 1 : -1) ;%>

<br><br>
<table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Posição</th>
        <th scope="col">Username</th>
        <th scope="col">Pontos</th>
        <th scope="col">Total perguntas resolvidas</th>
        <th scope="col">Percentagem Pontos Ganhos</th>
      </tr>
    </thead>
    <tbody>
<% var maxSize = 0; %>
<% if ( tabela.length > mostrarX ){ %>
  <% maxSize = mostrarX; %>
<% } else { %>
  <% maxSize = tabela.length; %>
<% } %>
<% for ( var i = 0;  i < tabela.length; i++) { %>
    <tr>
        <th scope="row"> # <%= i+1 %> </th>
        <td><%= tabela[i].nome %></td>
        <td><%= tabela[i].pontos %></td>
        <td>not implemented yet...</td>
        <td><div class="progress">
        <% var tempPercent = ( ( tabela[i].pontos *100)/ totalDepontosQuePossoGanhar);%>
      <div class="progress-bar" role="progressbar" style="width: <%= tempPercent %>%;"  aria-valuemin="0" aria-valuemax="100"></div>
    </div></td>
    </tr>
    

<% } %>

  </tbody>
</table> 

para o total:
<div class="progress">
  <div class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
</div>

para ver coisas por categoria (isto é tudo para o top 10 mas também podia servir na pagina info de cada um dos users !?!?)
<div class="progress">
  <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<div class="progress">
  <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<div class="progress">
  <div class="progress-bar bg-warning" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<div class="progress">
  <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
</div>